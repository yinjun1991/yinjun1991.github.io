<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>git 常用命令 | 写好代码</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="git 可以说是目前最优秀的代码版本管理工具，团队开发是少不了的。本文会介绍一些常用的 git 命令。 git 仓库划分了 3 类区域，分别是： 工作区，暂存区，分支（master 及 其他分支） 工作区 简单来说就是我们仓库的当前目录暂存区 和 分支 在 仓库主目录的 .git 这个隐藏目录中 git init 目录 将指定目录初始化为 git 仓库git clone 仓库地址 拉取远程仓库到当">
<meta property="og:type" content="article">
<meta property="og:title" content="git 常用命令">
<meta property="og:url" content="http://yinjun.github.io/2022/04/19/git/index.html">
<meta property="og:site_name" content="写好代码">
<meta property="og:description" content="git 可以说是目前最优秀的代码版本管理工具，团队开发是少不了的。本文会介绍一些常用的 git 命令。 git 仓库划分了 3 类区域，分别是： 工作区，暂存区，分支（master 及 其他分支） 工作区 简单来说就是我们仓库的当前目录暂存区 和 分支 在 仓库主目录的 .git 这个隐藏目录中 git init 目录 将指定目录初始化为 git 仓库git clone 仓库地址 拉取远程仓库到当">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-04-19T12:34:05.000Z">
<meta property="article:modified_time" content="2022-04-25T07:45:15.450Z">
<meta property="article:author" content="yinjun">
<meta property="article:tag" content="git">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="写好代码" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">写好代码</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">一个平庸程序员的博客</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yinjun.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-git" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/04/19/git/" class="article-date">
  <time class="dt-published" datetime="2022-04-19T12:34:05.000Z" itemprop="datePublished">2022-04-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      git 常用命令
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="https://git-scm.com/">git</a> 可以说是目前最优秀的代码版本管理工具，团队开发是少不了的。本文会介绍一些常用的 git 命令。</p>
<p>git 仓库划分了 3 类区域，分别是： 工作区，暂存区，分支（master 及 其他分支）</p>
<p>工作区 简单来说就是我们仓库的当前目录<br>暂存区 和 分支 在 仓库主目录的 .git 这个隐藏目录中</p>
<p><code>git init 目录</code> 将指定目录初始化为 git 仓库<br><code>git clone 仓库地址</code> 拉取远程仓库到当前目录<br><code>git clone -b 分支名称 仓库地址</code> 拉取远程仓库的指定分支到当前目录</p>
<p>1、<code>git status</code> 查看仓库的状态，会显示工作区和暂存区的状态<br>比如：工作区有修改，有新文件，未添加到暂存区。或者暂存区有操作未提交到分支</p>
<p>2、<code>git add 文件/目录</code> 将文件，目录添加到暂存区</p>
<p>3、<code>git commit -m &#39;本次代码更新的注释&#39;</code><br>将暂存区的操作，提交到当前分支（一般都是默认的 master 分支）<br>所以你在工作区的操作，如果没有 add 到暂存区，是不会被提交到分支的</p>
<p>4、<code>git log</code> 查看分支提交历史<br><code>git log --oneline</code> 更简洁易懂的方式查看历史<br><code>git log -n</code> 查看最近 n 条历史<br><code>git log --stat</code> 查看历史的详细信息，那些文件有变更，分别添加、删除、修改了多少行<br><code>git log -p</code> 查看历史的详细信息，比 –stat 更加详细，会把每个文件变更的内容列出来，比如添加的 3 行内容是什么。</p>
<p>参数可以组合，<code>git log -2 -p</code> 查看最近 2 条历史的详细信息</p>
<p>5、撤销操作<br>a、新建了文件，还未添加到暂存区，不想要了。直接删除这个新文件即可。<br>b、已经纳入版本管理的文件，在工作区做了修改，还未添加到暂存区。使用 <code>git checkout -- 文件</code> 撤销工作区的修改，回到上次添加到暂存区的状态。</p>
<p>c、已经纳入版本管理的文件，在工作区做了修改，而且已经添加到了暂存区。这时候即需要撤销暂存区的状态，又需要撤销工作区的操作，对应也有两条命令。<br>撤销暂存区状态：<code>git reset HEAD</code><br>撤销工作区修改：<code>git checkout -- 文件</code></p>
<p>5、HEAD 指的是当前分支的当前版本。<br>git reset HEAD 是将暂存区回到<code>当前分支当前版本</code>的状态。这点比较绕，暂存区还未提交到分支，所以暂存区的文件相比<code>分支的当前版本</code>是要新的。</p>
<p>–hard 参数，覆盖工作区和暂存区<br>git reset –hard HEAD 使用 当前分支当前版本 的状态覆盖暂存区和工作区。会导致工作区所有最近的操作都撤销。所以如果你只是想撤销某一个文件的修改，别用这个命令。</p>
<p>git reset HEAD~1 回到 <code>当前分支的前一个版本</code>，数字 1 也可以改成 2，3，4，5…<br>git reset 版本号 也能回到指定版本</p>
<p>6、<code>git reflog</code> 查看操作记录</p>
<p>7、删除文件<br>a、<code>git rm 文件</code> 从工作区删除文件，并且将删除记录到暂存区。<br>相当于两个步骤 <code>rm 文件</code> 从工作区删除文件，再 <code>git add 文件</code> 将删除记录到暂存区。<br>b、<code>git commit -m &#39;注释&#39;</code> 将暂存区变更提交到分支，从而在分支上也删除文件</p>
<p>如果文件有修改，记录并未添加到暂存区，或者添加到了暂存区，并未提交到分支。<br>git rm 文件 会失败，需要用 <code>git rm 文件 -f</code> 强制删除</p>
<p>8、比较文件<br><code>git diff [文件]</code> 比较工作区和暂存区<br><code>git diff --staged [文件]</code> 比较暂存区和分支</p>
<p>9、重命名，移动<br><code>git mv 旧文件 新文件</code> 既可以命名，又可以移动。实际相当于两个步骤<br><code>git rm 旧文件</code> 再 <code>git add 新文件</code></p>
<p>配置 git 命令简写，当然你还可以配置的更多</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.st status</span><br><span class="line">git config --global alias.co checkout</span><br><span class="line">git config --global alias.ci commit</span><br></pre></td></tr></table></figure>

<p>或者 vim ~&#x2F;.gitconfig<br>在最后面添加</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[alias]</span><br><span class="line">    st = status</span><br><span class="line">    co = checkout</span><br><span class="line">    ci = commit</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yinjun.github.io/2022/04/19/git/" data-id="cl2ef05lk00058mmt0amtcl91" data-title="git 常用命令" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/" rel="tag">git</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/04/19/forever/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">前一篇</strong>
      <div class="article-nav-title">
        
          后台运行 NodeJS
        
      </div>
    </a>
  
  
    <a href="/2022/04/19/json_schema/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">后一篇</strong>
      <div class="article-nav-title">JSON schema 教程</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/chrome-extensions/" rel="tag">chrome,extensions</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/event-passive/" rel="tag">event,passive</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/forever/" rel="tag">forever</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js-this/" rel="tag">js,this</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/json-schema/" rel="tag">json,schema</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tcp/" rel="tag">tcp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/viewport/" rel="tag">viewport</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vitejs-vite/" rel="tag">vitejs,vite</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/chrome-extensions/" style="font-size: 10px;">chrome,extensions</a> <a href="/tags/event-passive/" style="font-size: 10px;">event,passive</a> <a href="/tags/forever/" style="font-size: 10px;">forever</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/js-this/" style="font-size: 10px;">js,this</a> <a href="/tags/json-schema/" style="font-size: 10px;">json,schema</a> <a href="/tags/tcp/" style="font-size: 10px;">tcp</a> <a href="/tags/viewport/" style="font-size: 10px;">viewport</a> <a href="/tags/vitejs-vite/" style="font-size: 10px;">vitejs,vite</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 10px;">设计模式</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">四月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/04/19/articles/">好文集锦</a>
          </li>
        
          <li>
            <a href="/2022/04/19/chrome_extension/">chrome 插件开发入门</a>
          </li>
        
          <li>
            <a href="/2022/04/19/design_patterns/">设计模式</a>
          </li>
        
          <li>
            <a href="/2022/04/19/forever/">后台运行 NodeJS</a>
          </li>
        
          <li>
            <a href="/2022/04/19/git/">git 常用命令</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 yinjun<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>